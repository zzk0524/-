function Destm(t,a){function r(t,a){var r="";if("object"==typeof t)for(var e in t)r+=String.fromCharCode(t[e]);t=r||t;for(var n,o,i=new Uint8Array(t.length),s=a.length,e=0;e<t.length;e++)o=e%s,n=t[e],n=n.toString().charCodeAt(0),i[e]=n^a.charCodeAt(o);return i}function e(t){var a="";if("object"==typeof t)for(var r in t)a+=String.fromCharCode(t[r]);t=a||t;var e=new Uint8Array(t.length);for(r=0;r<t.length;r++)e[r]=t[r].toString().charCodeAt(0);var n,o,r=0;for(r=0;r<e.length;r++)n=e[r]%3,0!=n&&r+n<e.length&&(o=e[r+1],e[r+1]=e[r+n],e[r+n]=o,r=r+n+1);return e}function n(t){var a="";if("object"==typeof t)for(var r in t)a+=String.fromCharCode(t[r]);t=a||t;var e=new Uint8Array(t.length);for(r=0;r<t.length;r++)e[r]=t[r].toString().charCodeAt(0);var r=0,n=0,o=0,i=0;for(r=0;r<e.length;r++)o=e[r]%2,o&&r++,i++;var s=new Uint8Array(i);for(r=0;r<e.length;r++)o=e[r]%2,s[n++]=o?e[r++]:e[r];return s}function o(t,a){var r=0,e=0,n=0,o=0,i="";if("object"==typeof t)for(var r in t)i+=String.fromCharCode(t[r]);t=i||t;var s=new Uint8Array(t.length);for(r=0;r<t.length;r++)s[r]=t[r].toString().charCodeAt(0);for(r=0;r<t.length;r++)if(o=s[r]%5,0!=o&&1!=o&&r+o<s.length&&(n=s[r+1],e=r+2,s[r+1]=s[r+o],s[o+r]=n,r=r+o+1,r-2>e))for(;r-2>e;e++)s[e]=s[e]^a.charCodeAt(e%a.length);for(r=0;r<t.length;r++)s[r]=s[r]^a.charCodeAt(r%a.length);return s}function i(t){var a,r,e,n,o,i,s;for(i=t.length,o=0,s="";i>o;){do a=m[255&t.charCodeAt(o++)];while(i>o&&-1==a);if(-1==a)break;do r=m[255&t.charCodeAt(o++)];while(i>o&&-1==r);if(-1==r)break;s+=String.fromCharCode(a<<2|(48&r)>>4);do{if(e=255&t.charCodeAt(o++),61==e)return s;e=m[e]}while(i>o&&-1==e);if(-1==e)break;s+=String.fromCharCode((15&r)<<4|(60&e)>>2);do{if(n=255&t.charCodeAt(o++),61==n)return s;n=m[n]}while(i>o&&-1==n);if(-1==n)break;s+=String.fromCharCode((3&e)<<6|n)}return s}for(var s={data:{info:t}},c={q:r,h:e,m:n,k:o},d=s.data.info,l=d.substring(d.length-4).split(""),u=0;u<l.length;u++)l[u]=l[u].toString().charCodeAt(0)%4;l.reverse();for(var f=[],u=0;u<l.length;u++)f.push(d.substring(l[u]+1,l[u]+2)),d=d.substring(0,l[u]+1)+d.substring(l[u]+2);s.data.encrypt_table=f,s.data.key_table=[];for(var u in s.data.encrypt_table)("q"==s.data.encrypt_table[u]||"k"==s.data.encrypt_table[u])&&(s.data.key_table.push(d.substring(d.length-12)),d=d.substring(0,d.length-12));s.data.key_table.reverse(),s.data.info=d;var m=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);s.data.info=i(s.data.info);for(var u in s.data.encrypt_table){var h=s.data.encrypt_table[u];if("q"==h||"k"==h){var p=s.data.key_table.pop();s.data.info=c[s.data.encrypt_table[u]](s.data.info,p)}else s.data.info=c[s.data.encrypt_table[u]](s.data.info)}if(a)return s.data.info;var g="";for(u=0;u<s.data.info.length;u++)g+=String.fromCharCode(s.data.info[u]);return g}define("fingerprintjs",["/static/lib/fingerprintjs2/fingerprintjs2.min.js"],function(){OP_CONFIG&&(new Fingerprint2).get(function(t){OP_CONFIG.browser_key=t})}),requirejs(["fingerprintjs"]),define("registlogin",["/static/lib/login-regist/login-regist.js"],function(a){$(function(){function r(){h=$(window).height(),t=$(document).scrollTop(),t>=768?$("#backTop").show():$("#backTop").hide()}$("#js-signin-btn").on("click",function(t){t.preventDefault(),a.init()}),$("#js-signup-btn").on("click",function(t){t.preventDefault(),a.signup()}),$("#backTop").click(function(){$("html,body").animate({scrollTop:0},200)}),$(window).scroll(function(){r()})})}),requirejs(["registlogin"]),define("loadsocket",["common/js/chat"],function(){$.chat.init(),OP_CONFIG.userInfo&&$.ajax({url:"//www.imooc.com/u/loading",dataType:"jsonp",success:function(t){if(0==t.result){var a=window.location.href.indexOf("notices"),r=window.location.href.indexOf("messages");t.data.remind>0?(_not_unread=1,$(".msg_remind").show(),(-1!=a||-1!=r)&&(t.data.remind>99?$("#not_new").find(".not-num").html("99+").show():$("#not_new").find(".not-num").html("("+t.data.remind+")").show())):(_not_unread=0,_msg_unread||$(".msg_remind").hide())}}})}),requirejs(["loadsocket"]),!function(){var t,a,r;if(a=window.navigator.userAgent,r=/;\s*MSIE (\d+).*?;/.exec(a),r&&+r[1]<=9){if(t=document.cookie.match(/(?:^|;)\s*ic=(\d)/),t&&t[1])return;window.location.replace("//www.imooc.com/static/html/browser.html")}}(),define("certificate",function(){var t=function(){$("#certificate-mode").show(),$("#certificate-mode-opt").show()},a=function(){$("#certificate-mode").hide(),$("#certificate-mode-opt").hide()},r=0;$(document).on("click",".js-look-certificate",function(){return r?!1:(r=1,void $.get("/api/"+PlanId+"/"+encodeUid+"/certificate",function(a){a.result?($("#certificate-mode").find("img").attr("src",a.data),t()):$.alert(a.msg),r=0}))}),$("#certificate-mode-opt").on("click",function(){a()});var e=!1;$(document).on("click",".js-generate-report",function(){if(!e){e=!0;var t={};t.plan_id=$("#certificate-mode").data("id"),$.post("/sc/snapshot",t,function(a){if(e=!1,a.result){var r="//class.m.imooc.com/studyreport?pid="+t.plan_id+"&u="+encodeUid;window.location.href=r}},"json")}})}),requirejs(["certificate"]),define("initCartNumber",["common/js/cart"],function(){$.ajax({url:"//order.imooc.com/pay/cartorder",dataType:"jsonp",jsonp:"jsonpcallback",success:function(t){if(0==t.result&&(t.data.order&&1*t.data.order&&$(".js-cart-num").attr("data-ordernum",t.data.order),t.data.cart&&1*t.data.cart)){var a=parseInt(t.data.order);$(".js-cart-num").attr("data-cartnum",t.data.cart),$(".js-cart-num").attr("data-prevnum",t.data.cart),$(".js-cart-num").html(parseInt(t.data.cart)+a).show()}}})}),requirejs(["initCartNumber"]),requirejs(["common/js/userinfo"]),define("showUserInfo",function(){var t=0;-2==OP_CONFIG.userout&&$.alert("你的账号在另一地点登录，已被强迫下线。",{info:"如果不是本人操作，建议你修改密码。",callback:function(){window.location.href="//www.imooc.com/course/program"}}),$("#header-user-card").on("mouseenter",function(){clearTimeout(t),$(this).hasClass("hover")||$(this).addClass("hover")}).on("mouseleave",function(a){a.stopPropagation();var r=$(this);t=setTimeout(function(){r.hasClass("hover")&&r.removeClass("hover")},300)})}),requirejs(["showUserInfo"]),define("showCode",function(){$(".app-download").on("mouseenter",function(){$(".js-load-box").show(),$("#nav").addClass("addZ-index")}).on("mouseleave",function(){$(".js-load-box").hide(),$("#nav").removeClass("addZ-index")})}),requirejs(["showCode"]),requirejs(["common/js/cart"]),define("showUserCart",function(){var t=0,a=0;$("#shop-cart").on("mouseenter",function(){if(a){var r=$(".js-cart-num").attr("data-prevnum"),e=$(".js-cart-num").attr("data-cartnum");r!=e&&($(".js-cart-num").attr("data-prevnum",$(".js-cart-num").attr("data-cartnum")),$.initGetCart())}else a=1,$.initGetCart();clearTimeout(t),$(this).hasClass("hover")||($(this).addClass("hover"),$("#nav").addClass("addZ-index"))}).on("mouseleave",function(a){a.stopPropagation();var r=$(this);t=setTimeout(function(){r.hasClass("hover")&&(r.removeClass("hover"),$("#nav").removeClass("addZ-index"))},300)})}),requirejs(["showUserCart"]),define("delCartGoods",function(){$("#js-my-cart").on("click",".js-close",function(){var t=this,a=$(t).parents(".js-item"),r=a.data("typeid"),e=a.data("type"),n=a.data("goodsid"),o={type_id:r,type:e,goods_id:n};$.ajax({url:"//order.imooc.com/pay/delcartgoods",dataType:"jsonp",data:o,jsonp:"jsonpcallback",success:function(t){if("0"==t.result){a.remove();var r=(parseInt($(".js-cart-num").attr("data-cartnum")),$("#js-card-ul").find("li").length);if(0==r){var e=parseInt($(".js-cart-num").attr("data-cartnum"));$(".js-cart-num").attr("data-cartnum",parseInt(e-1));var n='<div class="cart-title-box clearfix">                                        <h2 class="l">我的购物车</h2>                                        <h5 class="r">已加入<span class="js-incart-num">0</span>门课程</h5>                                    </div>                                    <div class="cart-wrap">                                        <div class="clear-cart">                                            <span class="cartIcon imv2-cart"></span>                                            <h3>购物车里空空如也</h3>                                            <div class="text">快去这里选购你中意的课程</div>                                            <p><a class="go-link" href="//coding.imooc.com" target="_blank">实战课程</a></p>                                            <p><a class="go-link" href="//www.imooc.com/course/program" target="_blank">就业班</a></p>                                        </div>                                    </div>                                    <div class="more-box clearfix">                                        <div class="l show-box">                                            <span class="text"><a href="//order.imooc.com/myorder" target="_blank">我的订单中心</a></span>                                        </div>                                        <a href="//order.imooc.com/pay/cart" target="_blank" class="r moco-btn moco-btn-red go-cart">去购物车</a>                                    </div>';$("#js-my-cart").html(n),$(".js-cart-num").html("").hide()}else{var o=parseInt($(".js-cart-num").html()),e=parseInt($(".js-cart-num").attr("data-cartnum"));$(".js-cart-num").html(parseInt(o-1)).attr("data-cartnum",parseInt(e-1));var i=parseInt($(".js-incart-num").html());$(".js-incart-num").html(parseInt(i-1))}}else $.alert(t.msg)}})})}),requirejs(["delCartGoods"]),requirejs(["common/js/complete_user_info"]),OP_CONFIG.usercaution&&OP_CONFIG.usercaution.length>0&&($.alert?$.alert("警告",{info:'<span style="font-size: 14px; line-height: 24px;">'+OP_CONFIG.usercaution+"</span>",callback:function(){window.location.href="//class.imooc.com/passport/user/logout?referer=//class.imooc.com"}}):(alert(OP_CONFIG.usercaution),window.location.href="//class.imooc.com/passport/user/logout?referer=//class.imooc.com")),requirejs(["common/js/dist-zhuge"]),requirejs(["common/js/navsearch"]),requirejs(["common/js/advertiseCheck"]),$("#septemberSchool").length&&parseInt($("#septemberSchool").data("now"))<1568563200&&requirejs(["common/js/septemberSchool"]);